<div class="d-flex flex-column align-items-center mt-3">
	<div class="row post box col-xl-10 col-lg-11 col-xs-12">
		<div class="col-lg-8 col-md-7 px-0 d-flex post-show-img">
			<div class="align-self-center">
				<%= render "photos", {post: @post} %>
			</div>
		</div>
		<div class="col-lg-4 col-md-5 mt-sm-4 mt-md-0">			
			<div class="row px-3 d-flex align-items-center">
				<div class="col-sm-3">
					<%= link_to user_path(@post.user), class: "no-text-decoration" do%>
						<%= image_tag avatar_url(@post.user), class: "post-author-icon" %>
					<% end %>
				<div class="col-sm-8">
					<%= link_to user_path(@post.user), class: "normal-color no-text-decoration d-flex align-self-center", title: @post.user.name do %>
						<strong><%= @post.user.name %></strong>
					<% end %>
				</div>
				<% if @post.user == current_user %>
					<div class="col-sm-1">
						<%= link_to post_path(@post), method: :delete, class: "ml-auto delete-post-icon mx-0 my-auto", data: {confirm: "You really wants to delete post?"} do %>
							<i class="far fa-trash-alt" aria-hidden="true"></i>
						<% end%>
					</div>
				<% end %>
			</div>
			<hr class="mb-0">
			<div class="comment-list py-2">
				<% if @post.content.present? %>
					<div>
						<span>
							<strong><%= @post.user.name %></strong>
						</span>
						<span>
							<%= @post.content %>
						</span>
					</div>
				<% end %>
				
				<div id="comment-post-<%= @post.id.to_s %>">
					<% @post.comments.each do |comment| %>
						<div class="mb-2">
							<div class="col-sm-10">
								<span><strong><%= comment.user.name %></strong></span>
								<span><%= comment.content %></span>
							</div>
							<div class="col-sm-2">
								<% if comment.user == current_user%>
									<%= link_to comment_path(comment), method: :delete, class: "ml-auto delete-post-icon mx-0 my-auto delete-comment", data: {confirm: "You really want to delete comment?"}, remote: true do %>
										<i class="far fa-trash-alt" aria-hidden="true"></i>
									<% end%>
								<% end %>
							</div>
						</div>
					<% end %>
				</div>
			</div>
			
			<hr class="mt-0">
			<div>
				<div class="row actions">
					<div id="like-icon-post-<%= @post.id.to_s %>" class= "col-sm-2">
						<%= render "like_icon", {is_liked: @is_liked, post: @post} %>
					</div>
					<%= link_to image_pack_tag('posts/comment.svg', class: 'post-comment-icon'), '#', class: "col-sm-1"%>
					<div class="col-sm-7"></div>
					<%= link_to image_pack_tag('posts/bookmark.svg', class: 'post-bookmark-icon'), '#', class: "col-sm-1"%>
				</div>
				<div id="like-text-post-<%= @post.id.to_s %>">
					<%= render "like_text", {likes: @likes} %>
				</div>		
			</div>	
			<%= link_to time_ago_in_words(@post.created_at).upcase + "AGO", post_path(@post), class: "light-color post-time no-text-decoration" %>
			<hr>
			<div class="row actions" id="comment-form-post-<%= @post.id %>">
				<%= form_for [@post, Comment.new], :html => {:class => "w-100"}, remote: true do |f| %>
					<%= f.hidden_field :user_id, value: current_user.id.to_s %>
					<%= f.hidden_field :post_id, value: @post.id %>
					<%= f.text_field :content, class: "form-control comment-input border-0", placeholder: "Add a comment ...", autocomplete: :off %>
				<% end %>	
			</div>
		</div>
	</div>
</div> 